{"version":3,"file":"static/js/285.c8952fde.chunk.js","mappings":"8QAEaA,EAA0BC,EAAAA,EAAAA,IAAU,sEAKpCC,EAAgBD,EAAAA,EAAAA,OAAa,sWAM/B,YAAQ,SAALE,MAAkBC,QAAQC,MAAM,IACxB,YAAQ,SAALF,MAAkBC,QAAQC,MAAM,IAQzC,YAAQ,SAALF,MAAkBG,WAAWC,UAAU,IAIlC,YAAQ,SAALJ,MAAkBC,QAAQI,WAAW,IACnD,YAAQ,SAALL,MAAkBC,QAAQK,OAAO,IAChC,YAAQ,SAALN,MAAkBG,WAAWI,SAAS,I,UCP1D,EAlBuB,SAAH,GAAmC,IAA7BC,EAAU,EAAVA,WAAYC,EAAS,EAATA,UACpC,OACE,UAACZ,EAAuB,YACtB,SAACE,EAAa,CAACW,KAAK,SAASC,MAAM,UAAUC,QAASJ,EAAW,kBAGjE,SAACT,EAAa,CAACW,KAAK,SAASC,MAAM,OAAOC,QAASH,EAAU,kBAKnE,ECZaI,EAAqBf,EAAAA,EAAAA,IAAU,qHAO/BgB,EAAYhB,EAAAA,EAAAA,OAAa,+XAWhB,gBAAGiB,EAAW,EAAXA,YAAaf,EAAK,EAALA,MAAK,OACvB,IAAhBe,EAAuBf,EAAMgB,YAAYC,iBAAmBjB,EAAMgB,YAAYE,OAAO,IAKzE,YAAQ,SAALlB,MAAkBG,WAAWC,UAAU,IAI7C,YAAQ,SAALJ,MAAkBC,QAAQI,WAAW,IACpC,YAAQ,SAALL,MAAkBG,WAAWI,SAAS,IAI7CY,EAAUrB,EAAAA,EAAAA,IAAU,kF,8BCvBzBsB,EAAUC,EAAAA,EAAAA,MAkElB,EAhEqB,SAAH,GAAyD,IAAD,IAAlDN,YAAAA,OAAW,OAAQ,EAAEO,EAAK,EAALA,MAAOC,EAAQ,EAARA,SAAUC,EAAK,EAALA,MAC5D,GAAkDC,EAAAA,EAAAA,WAAS,GAAM,eAA1DC,EAAiB,KAAEC,EAAoB,KAC9C,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAyC,YAA7B,GAEbC,GAAWC,EAAAA,EAAAA,IAAYC,EAAAA,IACvBC,GAASF,EAAAA,EAAAA,IAAYG,EAAAA,IAErBC,GAAQC,EAAAA,EAAAA,IAAW,CAAEC,OAAQP,GAAYG,EAASA,EAAS,KAAMT,MAAAA,IAEjEc,EAAU,yCAAG,4FAAwB,GAAff,EAAQ,EAARA,SAAUD,EAAK,EAALA,OAChCC,IAAYY,EAAK,0CAEXN,EAAa,CAAEN,SAAAA,IAAYgB,MAAK,SAAAC,GAIhB,IAAD,KAHfA,EAASC,OACXC,EAAAA,GAAAA,MAAYF,EAASC,MAAME,KAAKC,SAE9BJ,EAASG,OACXD,EAAAA,GAAAA,QAAqC,QAAxB,EAAS,OAARF,QAAQ,IAARA,GAAc,QAAN,EAARA,EAAUG,YAAI,WAAN,EAAR,EAAgBC,eAAO,QAAI,UAE7C,IAAG,KAAD,kDAEFC,QAAQC,IAAI,EAAD,IAAQ,QAGnBxB,GAASa,GACXU,QAAQC,IAAIxB,GAEdK,GAAqB,GAAO,yDAC7B,gBAnBe,sCAoBhB,OAAKG,GAAaK,GAKhB,UAACtB,EAAkB,YACjB,SAACC,EAAS,CACRJ,KAAK,SACLK,YAAaA,EACbJ,MAAM,SACNC,QAAS,kBAAMe,GAAqB,EAAK,EAAC,UAE1C,SAACR,EAAO,CAAC,aAAW,cAAa,UAC/B,gBAAK4B,KAAI,UAAK3B,EAAK,wBAGtBM,IACC,SAACsB,EAAA,EAAK,CAACJ,QAAQ,gBAAgBK,QAAS,kBAAMtB,GAAqB,EAAM,EAAC,UACxE,SAAC,EAAc,CACbnB,WAAY,kBAAM8B,EAAW,CAAEf,SAAAA,EAAUD,MAAAA,GAAQ,EACjDb,UAAW,kBAAMkB,GAAqB,EAAM,UAnB7C,uBAyBX,C,0GCnEauB,EAAiBpD,EAAAA,EAAAA,IAAU,oZAmBf,YAAQ,SAALE,MAAkBC,QAAQI,WAAW,IAKpD8C,EAAUrD,EAAAA,EAAAA,EAAQ,mIAOpB,YAAQ,SAALE,MAAkBC,QAAQC,MAAM,IAGjCkD,EAActD,EAAAA,EAAAA,OAAa,kRAO7B,YAAQ,SAALE,MAAkBC,QAAQK,OAAO,IAI/B,YAAQ,SAALN,MAAkBG,WAAWC,UAAU,IAI7C,YAAQ,SAALJ,MAAkBC,QAAQI,WAAW,IACpC,YAAQ,SAALL,MAAkBG,WAAWI,SAAS,IAI7C8C,EAAYvD,EAAAA,EAAAA,IAAU,kF,UClD3BsB,EAAUC,EAAAA,EAAAA,MAkClB,EAhCc,SAAH,GAA6C,IAAD,IAAtCuB,QAAAA,OAAO,MAAG,GAAE,EAAEK,EAAO,EAAPA,QAASK,EAAQ,EAARA,SAatC,OAZAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAmB,SAAAC,GACR,WAAXA,EAAEC,MACJT,GAEJ,EAGA,OADAU,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,EACxC,CACF,GAAG,CAACP,KAEF,UAACC,EAAc,YACb,SAACE,EAAW,CAAC1C,KAAK,SAASC,MAAM,QAAQC,QAASqC,EAAQ,UACxD,SAACI,EAAS,CAAC,aAAW,aAAY,UAChC,gBAAKN,KAAI,UAAK3B,EAAK,sBAGvB,SAAC+B,EAAO,UAAEP,IACTU,IAGP,C,yLC5BMQ,EAAa,SAAH,GAA+C,IAAD,oBA6BxDC,EA7BgBC,EAAY,EAAZA,aAAa,EAAD,EAAEC,KAAAA,OAAI,MAAG,EAAC,MAAEC,MAAAA,OAAK,MAAG,EAAC,EAC/CpC,GAAWC,EAAAA,EAAAA,IAAYC,EAAAA,IAEvBmC,EAAyB,QAAjBH,EACRI,EAA8B,aAAjBJ,EACbK,GAAgBF,IAAUC,EAE1BE,EAML,QANsB,GAAGC,EAAAA,EAAAA,IACxB,CAAEC,SAAUR,EAAcC,KAAAA,EAAMC,MAAAA,GAChC,CACEO,KAAMN,GAASC,EACfM,2BAA2B,WAE9B,OAAM,QAAN,EANyB,EAMvB/B,YAAI,OAAM,QAAN,EANmB,EAMjBA,YAAI,WAAZ,EANyB,EAMXgC,QACTC,EAML,QANe,GAAGC,EAAAA,EAAAA,IACjB,CAAEL,SAAUR,EAAcC,KAAAA,EAAMC,MAAAA,GAChC,CACEO,MAAO3C,GAAYsC,GAAcC,EACjCK,2BAA2B,WAE9B,OAAM,QAAN,EANkB,EAMhB/B,YAAI,OAAM,QAAN,EANY,EAMVA,YAAI,WAAZ,EANkB,EAMJgC,QACTG,EAML,QANoB,GAAGD,EAAAA,EAAAA,IACtB,CAAEL,SAAUR,EAAcC,KAAAA,EAAMC,MAAAA,EAAOa,UAAU,GACjD,CACEN,MAAO3C,GAAYqC,GAASE,EAC5BK,2BAA2B,WAE9B,OAAM,QAAN,EANuB,EAMrB/B,YAAI,OAAM,QAAN,EANiB,EAMfA,YAAI,WAAZ,EANuB,EAMTgC,QAGf,OAAQX,GACN,IAAK,MACHD,EAASa,EACT,MACF,IAAK,WACHb,EAASe,EACT,MACF,QACEf,EAASO,EAEb,OAAa,QAAb,EAAOP,SAAM,QAAI,EACnB,EC3CMiB,EAAmB,SAAH,GAAsB,IAAD,IAAfzD,EAAQ,EAARA,SAElBoB,GAASsC,EAAAA,EAAAA,IACf,CAAE1D,SAAAA,GACF,CAEEmD,2BAA2B,IAJvB/B,KAQR,OAAyB,QAAzB,EAAW,OAAJA,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYuC,cAAM,QAAI,IAC/B,E,oBCXMC,EAAU,SAAH,GAA6B,IAAD,MAAvBlB,KAAAA,OAAI,IAAC,EAAC,EAAC,MAAEmB,MAAAA,OAAK,IAAC,KAAE,EACjC,GAA4BC,EAAAA,EAAAA,GAAiB,CAAEpB,KAAAA,EAAMmB,MAAAA,IAA7CzC,EAAI,EAAJA,KAAM2C,EAAS,EAATA,UAEd,MAAO,CAAE3C,KAAgB,QAAZ,EAAM,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAM4C,YAAI,QAAI,GAAID,UAAAA,EACnC,E,UCJME,EAAa,WAAO,IAAD,IACf7C,GAAS8C,EAAAA,EAAAA,KAAT9C,KAER,OAA0B,QAA1B,EAAW,OAAJA,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAY+C,eAAO,QAAI,EAChC,E,UCJMC,EAAoB,WAAO,IAAD,MAC9B,GAA4BC,EAAAA,EAAAA,MAApBjD,EAAI,EAAJA,KAAM2C,EAAS,EAATA,UAEd,MAAO,CAAEO,KAAU,OAAJlD,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYkD,KAAMC,KAAsB,QAAlB,EAAM,OAAJnD,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMA,YAAI,WAAN,EAAJ,EAAYmD,YAAI,QAAI,GAAIR,UAAAA,EACjE,C","sources":["components/ConfirmButtons/ConfirmButtons.styled.jsx","components/ConfirmButtons/ConfirmButtons.jsx","components/DeleteButton/DeleteButton.styled.jsx","components/DeleteButton/DeleteButton.jsx","components/PopUp/PopUp.styled.jsx","components/PopUp/PopUp.jsx","hooks/useNotices.js","hooks/useNoticeById.js","hooks/useNews.js","hooks/useFriends.js","hooks/useGetCurrentUser.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const ConfirmButtonsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const ConfirmButton = styled.button`\n  padding: 8px;\n\n  font-size: inherit;\n  font-weight: 500;\n\n  color: ${({ theme }) => theme.palette.accent};\n  border: 2px solid ${({ theme }) => theme.palette.accent};\n  border-radius: 20px;\n  background: transparent;\n\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n\n  transition: ${({ theme }) => theme.animations.transition};\n\n  &:hover,\n  &:focus {\n    background-color: ${({ theme }) => theme.palette.hoverAccent};\n    color: ${({ theme }) => theme.palette.triadic};\n    transform: ${({ theme }) => theme.animations.transform};\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { ConfirmButtonsContainer, ConfirmButton } from './ConfirmButtons.styled';\n\nconst ConfirmButtons = ({ onClickYes, onClickNo }) => {\n  return (\n    <ConfirmButtonsContainer>\n      <ConfirmButton type=\"button\" title=\"Confirm\" onClick={onClickYes}>\n        Yes\n      </ConfirmButton>\n      <ConfirmButton type=\"button\" title=\"Deny\" onClick={onClickNo}>\n        No\n      </ConfirmButton>\n    </ConfirmButtonsContainer>\n  );\n};\n\nConfirmButtons.propTypes = {\n  onClickYes: PropTypes.func.isRequired,\n  onClickNo: PropTypes.func.isRequired,\n};\n\nexport default ConfirmButtons;\n","import styled from '@emotion/styled';\n\nexport const DelButtonContainer = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const DelButton = styled.button`\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0;\n  width: 44px;\n  height: 44px;\n\n  color: rgba(17, 17, 17, 0.6);\n\n  background-color: ${({ translucent, theme }) =>\n    translucent === true ? theme.backgrounds.whiteTranslucent : theme.backgrounds.primary};\n  backdrop-filter: blur(2px);\n  border: none;\n  border-radius: 50%;\n\n  transition: ${({ theme }) => theme.animations.transition};\n\n  &:hover,\n  &:focus {\n    color: ${({ theme }) => theme.palette.hoverAccent};\n    transform: ${({ theme }) => theme.animations.transform};\n  }\n`;\n\nexport const DelIcon = styled.svg`\n  width: 19.5;\n  height: 21px;\n\n  fill: currentColor;\n`;\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectAuthId, selectAuthToken } from 'redux/authState';\nimport { useRemoveNoticeMutation } from 'redux/notices';\nimport PopUp from 'components/PopUp';\nimport ConfirmButtons from 'components/ConfirmButtons';\nimport { DelButtonContainer, DelButton, DelIcon } from './DeleteButton.styled';\nimport { ownerCheck } from 'helpers';\nimport { constants } from 'constants/constants';\nimport { toast } from 'react-toastify';\n\nconst { icons } = constants;\n\nconst DeleteButton = ({ translucent = false, petId, noticeId, owner }) => {\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [removeNotice] = useRemoveNoticeMutation();\n\n  const isLogged = useSelector(selectAuthToken);\n  const authId = useSelector(selectAuthId);\n\n  const check = ownerCheck({ userId: isLogged && authId ? authId : null, owner });\n\n  const removeItem = async ({ noticeId, petId }) => {\n    if (noticeId && check) {\n      try {\n        await removeNotice({ noticeId }).then(response => {\n          if (response.error) {\n            toast.error(response.error.data.message);\n          }\n          if (response.data) {\n            toast.success(response?.data?.message ?? 'Success');\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    if (petId && check) {\n      console.log(petId);\n    }\n    setShowDeleteConfirm(false);\n  };\n  if (!isLogged || !check) {\n    return <></>;\n  }\n\n  return (\n    <DelButtonContainer>\n      <DelButton\n        type=\"button\"\n        translucent={translucent}\n        title=\"Remove\"\n        onClick={() => setShowDeleteConfirm(true)}\n      >\n        <DelIcon aria-label=\"Delete icon\">\n          <use href={`${icons}#icon-trashcan`} />\n        </DelIcon>\n      </DelButton>\n      {showDeleteConfirm && (\n        <PopUp message=\"Are you sure?\" onClose={() => setShowDeleteConfirm(false)}>\n          <ConfirmButtons\n            onClickYes={() => removeItem({ noticeId, petId })}\n            onClickNo={() => setShowDeleteConfirm(false)}\n          />\n        </PopUp>\n      )}\n    </DelButtonContainer>\n  );\n};\n\nDeleteButton.propTypes = {\n  translucent: PropTypes.bool,\n  owner: PropTypes.string.isRequired,\n  noticeId: PropTypes.string,\n  petId: PropTypes.string,\n};\n\nexport default DeleteButton;\n","import styled from '@emotion/styled';\n\nexport const PopUpContainer = styled.div`\n  position: absolute;\n  right: 54px;\n  top: 10px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 12px;\n  width: 200px;\n  max-width: 200px;\n\n  background-color: rgba(17, 17, 17, 0.8);\n  backdrop-filter: blur(2px);\n\n  border: none;\n  border-radius: 40px;\n  border-top-right-radius: 0;\n\n  box-shadow: 0 0 20px ${({ theme }) => theme.palette.hoverAccent};\n\n  z-index: 20;\n`;\n\nexport const Message = styled.p`\n  font-size: 20px;\n  font-weight: 500;\n  margin-bottom: 20px;\n\n  text-align: center;\n\n  color: ${({ theme }) => theme.palette.accent};\n`;\n\nexport const CloseButton = styled.button`\n  padding: 4px;\n  width: 20px;\n  height: 20px;\n  margin-left: auto;\n  margin-bottom: 12px;\n\n  color: ${({ theme }) => theme.palette.triadic};\n  background: transparent;\n  border: none;\n\n  transition: ${({ theme }) => theme.animations.transition};\n\n  &:hover,\n  &:focus {\n    color: ${({ theme }) => theme.palette.hoverAccent};\n    transform: ${({ theme }) => theme.animations.transform};\n  }\n`;\n\nexport const CloseIcon = styled.svg`\n  width: 100%;\n  height: 100%;\n\n  fill: currentColor;\n`;\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { constants } from 'constants/constants';\n\nimport { PopUpContainer, Message, CloseButton, CloseIcon } from './PopUp.styled';\n\nconst { icons } = constants;\n\nconst PopUp = ({ message = '', onClose, children }) => {\n  useEffect(() => {\n    const handleEscKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleEscKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleEscKeyDown);\n    };\n  }, [onClose]);\n  return (\n    <PopUpContainer>\n      <CloseButton type=\"button\" title=\"Close\" onClick={onClose}>\n        <CloseIcon aria-label=\"Close icon\">\n          <use href={`${icons}#icon-close`} />\n        </CloseIcon>\n      </CloseButton>\n      <Message>{message}</Message>\n      {children}\n    </PopUpContainer>\n  );\n};\n\nPopUp.propTypes = {\n  message: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.node,\n};\n\nexport default PopUp;\n","import { useSelector } from 'react-redux';\nimport { selectAuthToken } from 'redux/authState';\nimport { useListNoticesByCategoryQuery, useListUserNoticesQuery } from 'redux/notices';\n\nconst useNotices = ({ categoryName, page = 1, limit = 8 }) => {\n  const isLogged = useSelector(selectAuthToken);\n\n  const isOwn = categoryName === 'own';\n  const isFavorite = categoryName === 'favorite';\n  const isByCategory = !isOwn && !isFavorite;\n\n  const byCategoryNotices = useListNoticesByCategoryQuery(\n    { category: categoryName, page, limit },\n    {\n      skip: isOwn || isFavorite,\n      refetchOnMountOrArgChange: true,\n    }\n  )?.data?.data?.notices;\n  const ownNotices = useListUserNoticesQuery(\n    { category: categoryName, page, limit },\n    {\n      skip: !isLogged || isFavorite || isByCategory,\n      refetchOnMountOrArgChange: true,\n    }\n  )?.data?.data?.notices;\n  const favoriteNotices = useListUserNoticesQuery(\n    { category: categoryName, page, limit, favorite: true },\n    {\n      skip: !isLogged || isOwn || isByCategory,\n      refetchOnMountOrArgChange: true,\n    }\n  )?.data?.data?.notices;\n\n  let result;\n  switch (categoryName) {\n    case 'own':\n      result = ownNotices;\n      break;\n    case 'favorite':\n      result = favoriteNotices;\n      break;\n    default:\n      result = byCategoryNotices;\n  }\n  return result ?? [];\n};\n\nexport { useNotices };\n","import { useGetNoticesByIdQuery } from 'redux/notices';\n\nconst useGetNoticeById = ({ noticeId }) => {\n  // const isLogged = useSelector(selectAuthToken);\n  const { data } = useGetNoticesByIdQuery(\n    { noticeId },\n    {\n      // skip: !isLogged,\n      refetchOnMountOrArgChange: true,\n    }\n  );\n\n  return data?.data?.notice ?? null;\n};\n\nexport { useGetNoticeById };\n","import { useListNewsQuery } from 'redux/news';\n\nconst useNews = ({page= 1, query=''}) => {\n  const { data, isLoading } = useListNewsQuery({ page, query });\n    \n  return { data: data?.news ?? [], isLoading};\n};\n\nexport { useNews };\n","import { useListFriendsQuery } from 'redux/friends';\n\nconst useFriends = () => {\n  const { data } = useListFriendsQuery();\n\n  return data?.data?.friends ?? [];\n};\n\nexport { useFriends };\n","import { useGetCurrentUserQuery } from 'redux/user';\n\nconst useGetCurrentUser = () => {\n  const { data, isLoading } = useGetCurrentUserQuery();\n\n  return { user: data?.data?.user, pets: data?.data?.pets ?? [], isLoading };\n};\n\nexport { useGetCurrentUser };\n"],"names":["ConfirmButtonsContainer","styled","ConfirmButton","theme","palette","accent","animations","transition","hoverAccent","triadic","transform","onClickYes","onClickNo","type","title","onClick","DelButtonContainer","DelButton","translucent","backgrounds","whiteTranslucent","primary","DelIcon","icons","constants","petId","noticeId","owner","useState","showDeleteConfirm","setShowDeleteConfirm","useRemoveNoticeMutation","removeNotice","isLogged","useSelector","selectAuthToken","authId","selectAuthId","check","ownerCheck","userId","removeItem","then","response","error","toast","data","message","console","log","href","PopUp","onClose","PopUpContainer","Message","CloseButton","CloseIcon","children","useEffect","handleEscKeyDown","e","code","window","addEventListener","removeEventListener","useNotices","result","categoryName","page","limit","isOwn","isFavorite","isByCategory","byCategoryNotices","useListNoticesByCategoryQuery","category","skip","refetchOnMountOrArgChange","notices","ownNotices","useListUserNoticesQuery","favoriteNotices","favorite","useGetNoticeById","useGetNoticesByIdQuery","notice","useNews","query","useListNewsQuery","isLoading","news","useFriends","useListFriendsQuery","friends","useGetCurrentUser","useGetCurrentUserQuery","user","pets"],"sourceRoot":""}